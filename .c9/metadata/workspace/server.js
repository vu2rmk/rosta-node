{"filter":false,"title":"server.js","tooltip":"/server.js","undoManager":{"mark":100,"position":100,"stack":[[{"start":{"row":566,"column":40},"end":{"row":566,"column":41},"action":"insert","lines":["l"],"id":3676}],[{"start":{"row":566,"column":41},"end":{"row":566,"column":42},"action":"insert","lines":["t"],"id":3677}],[{"start":{"row":566,"column":42},"end":{"row":566,"column":43},"action":"insert","lines":["a"],"id":3678}],[{"start":{"row":566,"column":42},"end":{"row":566,"column":43},"action":"remove","lines":["a"],"id":3679}],[{"start":{"row":566,"column":42},"end":{"row":566,"column":43},"action":"insert","lines":["s"],"id":3680}],[{"start":{"row":568,"column":0},"end":{"row":569,"column":0},"action":"insert","lines":["",""],"id":3681}],[{"start":{"row":569,"column":0},"end":{"row":569,"column":4},"action":"insert","lines":["    "],"id":3682}],[{"start":{"row":569,"column":4},"end":{"row":569,"column":5},"action":"insert","lines":["."],"id":3683}],[{"start":{"row":569,"column":4},"end":{"row":569,"column":5},"action":"remove","lines":["."],"id":3684}],[{"start":{"row":569,"column":4},"end":{"row":649,"column":7},"action":"insert","lines":[" //Add the poll option","    //accessed at POST http://localhost:8080/api/poll_options","    .post(function(req, res) {","        ","          var pollOption = new PollOption();","        ","        pollOption.questionId = req.body.questionId;","        pollOption.options = req.body.options;","        pollOption.active = req.body.active;","        ","        pollOption.save(function(err) {","            // body...","              if(err){","                ","                if(err.code == 11000){","                    return res.json({message:'Poll Option already exists'});","                }else{","                    ","                    return res.send(err);","                }","            }","            ","            return res.json({message:'Poll Option Created!'});","        });","    })","    ","    //get the poll options","    //accessed at GET http://localhost:8080/api/poll_options","    .get(function(req, res) {","        ","         PollOption.find(function(err,pollOptions){","            ","            if(err) return res.send(err);","            ","            return res.json(pollOptions);","        });","    });","    ","// On the routes that end with /poll_joiners","apiRouter.route('/poll_joiners')","","    //Add a poll join","    //accessed at POST http://localhost:8080/api/poll_joiners","    .post(function(req, res) {","        ","        var pollJoiner = new PollJoiner();","        ","        pollJoiner.pollId = req.body.pollId;","        pollJoiner.joinedBy = req.body.joinedBy;","        pollJoiner.eventId = req.body.eventId;","        pollJoiner.active = req.body.active;","        ","        pollJoiner.save(function(err) {","            // body...","              if(err){","                ","                if(err.code == 11000){","                    return res.json({message:'Poll Joiner already exists'});","                }else{","                    ","                    return res.send(err);","                }","            }","            ","            return res.json({message:'Poll Joiner Created!'});","        });","        ","    })","    ","    //Get the poll joiners list","    // accessed at GET http://localhost:8080/api/poll_joiners","    .get(function(req, res) {","        ","        ","         PollJoiner.find(function(err,pollJoiners){","            ","            if(err) return res.send(err);","            ","            return res.json(pollJoiners);","        });","    });"],"id":3685}],[{"start":{"row":610,"column":17},"end":{"row":610,"column":21},"action":"remove","lines":["join"],"id":3686},{"start":{"row":610,"column":17},"end":{"row":610,"column":18},"action":"insert","lines":["r"]}],[{"start":{"row":610,"column":18},"end":{"row":610,"column":19},"action":"insert","lines":["e"],"id":3687}],[{"start":{"row":610,"column":19},"end":{"row":610,"column":20},"action":"insert","lines":["s"],"id":3688}],[{"start":{"row":610,"column":20},"end":{"row":610,"column":21},"action":"insert","lines":["l"],"id":3689}],[{"start":{"row":610,"column":20},"end":{"row":610,"column":21},"action":"remove","lines":["l"],"id":3690}],[{"start":{"row":610,"column":20},"end":{"row":610,"column":21},"action":"insert","lines":["u"],"id":3691}],[{"start":{"row":610,"column":21},"end":{"row":610,"column":22},"action":"insert","lines":["l"],"id":3692}],[{"start":{"row":610,"column":22},"end":{"row":610,"column":23},"action":"insert","lines":["t"],"id":3693}],[{"start":{"row":611,"column":49},"end":{"row":611,"column":61},"action":"remove","lines":["poll_joiners"],"id":3694},{"start":{"row":611,"column":49},"end":{"row":611,"column":61},"action":"insert","lines":["poll_joiners"]}],[{"start":{"row":614,"column":12},"end":{"row":614,"column":22},"action":"remove","lines":["pollJoiner"],"id":3695},{"start":{"row":614,"column":12},"end":{"row":614,"column":13},"action":"insert","lines":["p"]}],[{"start":{"row":614,"column":13},"end":{"row":614,"column":14},"action":"insert","lines":["o"],"id":3696}],[{"start":{"row":614,"column":14},"end":{"row":614,"column":15},"action":"insert","lines":["l"],"id":3697}],[{"start":{"row":614,"column":15},"end":{"row":614,"column":16},"action":"insert","lines":["l"],"id":3698}],[{"start":{"row":614,"column":16},"end":{"row":614,"column":17},"action":"insert","lines":["R"],"id":3699}],[{"start":{"row":614,"column":17},"end":{"row":614,"column":18},"action":"insert","lines":["e"],"id":3700}],[{"start":{"row":614,"column":18},"end":{"row":614,"column":19},"action":"insert","lines":["s"],"id":3701}],[{"start":{"row":614,"column":19},"end":{"row":614,"column":20},"action":"insert","lines":["u"],"id":3702}],[{"start":{"row":614,"column":20},"end":{"row":614,"column":21},"action":"insert","lines":["l"],"id":3703}],[{"start":{"row":614,"column":21},"end":{"row":614,"column":22},"action":"insert","lines":["t"],"id":3704}],[{"start":{"row":614,"column":29},"end":{"row":614,"column":39},"action":"remove","lines":["PollJoiner"],"id":3705},{"start":{"row":614,"column":29},"end":{"row":614,"column":30},"action":"insert","lines":["P"]}],[{"start":{"row":614,"column":30},"end":{"row":614,"column":31},"action":"insert","lines":["o"],"id":3706}],[{"start":{"row":614,"column":31},"end":{"row":614,"column":32},"action":"insert","lines":["l"],"id":3707}],[{"start":{"row":614,"column":32},"end":{"row":614,"column":33},"action":"insert","lines":["l"],"id":3708}],[{"start":{"row":614,"column":29},"end":{"row":614,"column":33},"action":"remove","lines":["Poll"],"id":3709},{"start":{"row":614,"column":29},"end":{"row":614,"column":39},"action":"insert","lines":["PollResult"]}],[{"start":{"row":616,"column":19},"end":{"row":616,"column":25},"action":"remove","lines":["pollId"],"id":3710},{"start":{"row":616,"column":19},"end":{"row":616,"column":29},"action":"insert","lines":["questionId"]}],[{"start":{"row":616,"column":41},"end":{"row":616,"column":47},"action":"remove","lines":["pollId"],"id":3711},{"start":{"row":616,"column":41},"end":{"row":616,"column":51},"action":"insert","lines":["questionId"]}],[{"start":{"row":617,"column":19},"end":{"row":617,"column":27},"action":"remove","lines":["joinedBy"],"id":3712},{"start":{"row":617,"column":19},"end":{"row":617,"column":27},"action":"insert","lines":["optionId"]}],[{"start":{"row":617,"column":39},"end":{"row":617,"column":47},"action":"remove","lines":["joinedBy"],"id":3713},{"start":{"row":617,"column":39},"end":{"row":617,"column":47},"action":"insert","lines":["optionId"]}],[{"start":{"row":618,"column":46},"end":{"row":619,"column":0},"action":"insert","lines":["",""],"id":3714},{"start":{"row":619,"column":0},"end":{"row":619,"column":8},"action":"insert","lines":["        "]}],[{"start":{"row":619,"column":8},"end":{"row":619,"column":46},"action":"insert","lines":["pollJoiner.eventId = req.body.eventId;"],"id":3715}],[{"start":{"row":619,"column":46},"end":{"row":620,"column":0},"action":"insert","lines":["",""],"id":3716},{"start":{"row":620,"column":0},"end":{"row":620,"column":8},"action":"insert","lines":["        "]}],[{"start":{"row":620,"column":8},"end":{"row":620,"column":46},"action":"insert","lines":["pollJoiner.eventId = req.body.eventId;"],"id":3717}],[{"start":{"row":619,"column":19},"end":{"row":619,"column":26},"action":"remove","lines":["eventId"],"id":3718},{"start":{"row":619,"column":19},"end":{"row":619,"column":25},"action":"insert","lines":["pollId"]}],[{"start":{"row":619,"column":37},"end":{"row":619,"column":44},"action":"remove","lines":["eventId"],"id":3719},{"start":{"row":619,"column":37},"end":{"row":619,"column":43},"action":"insert","lines":["pollId"]}],[{"start":{"row":620,"column":19},"end":{"row":620,"column":26},"action":"remove","lines":["eventId"],"id":3720},{"start":{"row":620,"column":19},"end":{"row":620,"column":28},"action":"insert","lines":["votedTime"]}],[{"start":{"row":620,"column":40},"end":{"row":620,"column":47},"action":"remove","lines":["eventId"],"id":3721},{"start":{"row":620,"column":40},"end":{"row":620,"column":49},"action":"insert","lines":["votedTime"]}],[{"start":{"row":620,"column":50},"end":{"row":621,"column":44},"action":"remove","lines":["","        pollJoiner.active = req.body.active;"],"id":3722}],[{"start":{"row":616,"column":8},"end":{"row":616,"column":18},"action":"remove","lines":["pollJoiner"],"id":3723},{"start":{"row":616,"column":8},"end":{"row":616,"column":18},"action":"insert","lines":["pollResult"]}],[{"start":{"row":617,"column":8},"end":{"row":617,"column":18},"action":"remove","lines":["pollJoiner"],"id":3724},{"start":{"row":617,"column":8},"end":{"row":617,"column":18},"action":"insert","lines":["pollResult"]}],[{"start":{"row":618,"column":8},"end":{"row":618,"column":18},"action":"remove","lines":["pollJoiner"],"id":3725},{"start":{"row":618,"column":8},"end":{"row":618,"column":18},"action":"insert","lines":["pollResult"]}],[{"start":{"row":619,"column":8},"end":{"row":619,"column":18},"action":"remove","lines":["pollJoiner"],"id":3726},{"start":{"row":619,"column":8},"end":{"row":619,"column":18},"action":"insert","lines":["pollResult"]}],[{"start":{"row":620,"column":8},"end":{"row":620,"column":18},"action":"remove","lines":["pollJoiner"],"id":3727},{"start":{"row":620,"column":8},"end":{"row":620,"column":18},"action":"insert","lines":["pollResult"]}],[{"start":{"row":622,"column":8},"end":{"row":622,"column":18},"action":"remove","lines":["pollJoiner"],"id":3728},{"start":{"row":622,"column":8},"end":{"row":622,"column":18},"action":"insert","lines":["pollResult"]}],[{"start":{"row":627,"column":51},"end":{"row":627,"column":57},"action":"remove","lines":["Joiner"],"id":3729},{"start":{"row":627,"column":51},"end":{"row":627,"column":52},"action":"insert","lines":["R"]}],[{"start":{"row":627,"column":52},"end":{"row":627,"column":53},"action":"insert","lines":["e"],"id":3730}],[{"start":{"row":627,"column":53},"end":{"row":627,"column":54},"action":"insert","lines":["s"],"id":3731}],[{"start":{"row":627,"column":54},"end":{"row":627,"column":55},"action":"insert","lines":["u"],"id":3732}],[{"start":{"row":627,"column":55},"end":{"row":627,"column":56},"action":"insert","lines":["t"],"id":3733}],[{"start":{"row":627,"column":55},"end":{"row":627,"column":56},"action":"remove","lines":["t"],"id":3734}],[{"start":{"row":627,"column":55},"end":{"row":627,"column":56},"action":"insert","lines":["l"],"id":3735}],[{"start":{"row":627,"column":56},"end":{"row":627,"column":57},"action":"insert","lines":["t"],"id":3736}],[{"start":{"row":634,"column":43},"end":{"row":634,"column":49},"action":"remove","lines":["Joiner"],"id":3737},{"start":{"row":634,"column":43},"end":{"row":634,"column":44},"action":"insert","lines":["R"]}],[{"start":{"row":634,"column":44},"end":{"row":634,"column":45},"action":"insert","lines":["e"],"id":3738}],[{"start":{"row":634,"column":45},"end":{"row":634,"column":46},"action":"insert","lines":["s"],"id":3739}],[{"start":{"row":634,"column":46},"end":{"row":634,"column":47},"action":"insert","lines":["u"],"id":3740}],[{"start":{"row":634,"column":47},"end":{"row":634,"column":48},"action":"insert","lines":["l"],"id":3741}],[{"start":{"row":634,"column":48},"end":{"row":634,"column":49},"action":"insert","lines":["t"],"id":3742}],[{"start":{"row":639,"column":19},"end":{"row":639,"column":26},"action":"remove","lines":["joiners"],"id":3743},{"start":{"row":639,"column":19},"end":{"row":639,"column":20},"action":"insert","lines":["R"]}],[{"start":{"row":639,"column":20},"end":{"row":639,"column":21},"action":"insert","lines":["e"],"id":3744}],[{"start":{"row":639,"column":21},"end":{"row":639,"column":22},"action":"insert","lines":["s"],"id":3745}],[{"start":{"row":639,"column":22},"end":{"row":639,"column":23},"action":"insert","lines":["i"],"id":3746}],[{"start":{"row":639,"column":22},"end":{"row":639,"column":23},"action":"remove","lines":["i"],"id":3747}],[{"start":{"row":639,"column":22},"end":{"row":639,"column":23},"action":"insert","lines":["u"],"id":3748}],[{"start":{"row":639,"column":23},"end":{"row":639,"column":24},"action":"insert","lines":["l"],"id":3749}],[{"start":{"row":639,"column":24},"end":{"row":639,"column":25},"action":"insert","lines":["t"],"id":3750}],[{"start":{"row":639,"column":25},"end":{"row":639,"column":26},"action":"insert","lines":["s"],"id":3751}],[{"start":{"row":608,"column":18},"end":{"row":608,"column":30},"action":"remove","lines":["poll_joiners"],"id":3752},{"start":{"row":608,"column":18},"end":{"row":608,"column":30},"action":"insert","lines":["poll_results"]}],[{"start":{"row":607,"column":32},"end":{"row":607,"column":44},"action":"remove","lines":["poll_joiners"],"id":3753},{"start":{"row":607,"column":32},"end":{"row":607,"column":44},"action":"insert","lines":["poll_results"]}],[{"start":{"row":611,"column":49},"end":{"row":611,"column":61},"action":"remove","lines":["poll_joiners"],"id":3754},{"start":{"row":611,"column":49},"end":{"row":611,"column":61},"action":"insert","lines":["poll_results"]}],[{"start":{"row":567,"column":18},"end":{"row":567,"column":30},"action":"remove","lines":["poll_results"],"id":3755},{"start":{"row":567,"column":18},"end":{"row":567,"column":30},"action":"insert","lines":["poll_options"]}],[{"start":{"row":566,"column":31},"end":{"row":566,"column":43},"action":"remove","lines":["poll_results"],"id":3756},{"start":{"row":566,"column":31},"end":{"row":566,"column":43},"action":"insert","lines":["poll_options"]}],[{"start":{"row":640,"column":49},"end":{"row":640,"column":61},"action":"remove","lines":["poll_joiners"],"id":3757},{"start":{"row":640,"column":49},"end":{"row":640,"column":61},"action":"insert","lines":["poll_results"]}],[{"start":{"row":644,"column":9},"end":{"row":644,"column":19},"action":"remove","lines":["PollJoiner"],"id":3758},{"start":{"row":644,"column":9},"end":{"row":644,"column":10},"action":"insert","lines":["P"]}],[{"start":{"row":644,"column":10},"end":{"row":644,"column":11},"action":"insert","lines":["o"],"id":3759}],[{"start":{"row":644,"column":11},"end":{"row":644,"column":12},"action":"insert","lines":["l"],"id":3760}],[{"start":{"row":644,"column":12},"end":{"row":644,"column":13},"action":"insert","lines":["l"],"id":3761}],[{"start":{"row":644,"column":9},"end":{"row":644,"column":13},"action":"remove","lines":["Poll"],"id":3762},{"start":{"row":644,"column":9},"end":{"row":644,"column":19},"action":"insert","lines":["PollResult"]}],[{"start":{"row":644,"column":38},"end":{"row":644,"column":49},"action":"remove","lines":["pollJoiners"],"id":3763},{"start":{"row":644,"column":38},"end":{"row":644,"column":39},"action":"insert","lines":["p"]}],[{"start":{"row":644,"column":39},"end":{"row":644,"column":40},"action":"insert","lines":["o"],"id":3764}],[{"start":{"row":644,"column":40},"end":{"row":644,"column":41},"action":"insert","lines":["l"],"id":3765}],[{"start":{"row":644,"column":41},"end":{"row":644,"column":42},"action":"insert","lines":["l"],"id":3766}],[{"start":{"row":644,"column":42},"end":{"row":644,"column":43},"action":"insert","lines":["R"],"id":3767}],[{"start":{"row":644,"column":43},"end":{"row":644,"column":44},"action":"insert","lines":["e"],"id":3768}],[{"start":{"row":644,"column":44},"end":{"row":644,"column":45},"action":"insert","lines":["s"],"id":3769}],[{"start":{"row":644,"column":45},"end":{"row":644,"column":46},"action":"insert","lines":["u"],"id":3770}],[{"start":{"row":644,"column":46},"end":{"row":644,"column":47},"action":"insert","lines":["l"],"id":3771}],[{"start":{"row":644,"column":47},"end":{"row":644,"column":48},"action":"insert","lines":["t"],"id":3772}],[{"start":{"row":644,"column":48},"end":{"row":644,"column":49},"action":"insert","lines":["s"],"id":3773}],[{"start":{"row":648,"column":28},"end":{"row":648,"column":39},"action":"remove","lines":["pollJoiners"],"id":3774},{"start":{"row":648,"column":28},"end":{"row":648,"column":39},"action":"insert","lines":["pollResults"]}],[{"start":{"row":650,"column":7},"end":{"row":651,"column":0},"action":"insert","lines":["",""],"id":3775},{"start":{"row":651,"column":0},"end":{"row":651,"column":4},"action":"insert","lines":["    "]}],[{"start":{"row":651,"column":4},"end":{"row":652,"column":0},"action":"insert","lines":["",""],"id":3776},{"start":{"row":652,"column":0},"end":{"row":652,"column":4},"action":"insert","lines":["    "]}]]},"ace":{"folds":[],"scrolltop":3648.135561943054,"scrollleft":0,"selection":{"start":{"row":85,"column":45},"end":{"row":85,"column":45},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":201,"state":"start","mode":"ace/mode/javascript"}},"timestamp":1485091745000,"hash":"dc5962c1b6712f0f8389b05df32499dac70f822d"}